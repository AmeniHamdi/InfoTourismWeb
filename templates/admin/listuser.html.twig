{% extends 'base.html.twig' %}

{% block head %}
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="description" content="">
    <meta name="author" content="">

    {% block title %}Liste utilisateur{% endblock %}

    {% block stylesheets %}
        <!-- Main Styles -->
        <link rel="stylesheet" href="{{ asset('admin/styles/style.min.css')}}">

        <!-- Material Design Icon -->
        <link rel="stylesheet" href="{{ asset('admin/fonts/material-design/css/materialdesignicons.css')}}">

        <!-- mCustomScrollbar -->
        <link rel="stylesheet" href="{{ asset('admin/plugin/mCustomScrollbar/jquery.mCustomScrollbar.min.css')}}">

        <!-- Waves Effect -->
        <link rel="stylesheet" href="{{ asset('admin/plugin/waves/waves.min.css')}}">

        <!-- Sweet Alert -->
        <link rel="stylesheet" href="{{ asset('admin/alert/sweetalert2.min.css')}}">

        <!-- Data Tables -->
        <link rel="stylesheet" href="{{ asset('admin/plugin/datatables/media/css/dataTables.bootstrap.min.css')}}">
        <link rel="stylesheet" href="{{ asset('admin/plugin/datatables/extensions/Responsive/css/responsive.bootstrap.min.css')}}">

        <!-- Dark Themes -->
        <link rel="stylesheet" href="{{ asset('admin/styles/style-dark.min.css')}}">




    {% endblock %}
{% endblock %}


{% block content %}

    <div class="row small-spacing">
        <div class="col-xs-12">
            <div class="box-content">
                <h4 class="box-title">Liste Des Utilisateurs</h4>
                <!-- /.box-title -->

                <!-- /.dropdown js__dropdown -->
                <table id="example" class="table table-striped table-bordered display" style="width:100%">
                    <thead>
                    <tr>
                        <th>Id</th>
                        <th>Image</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Roles</th>
                        <th>Action</th>
                    </tr>
                    </thead>
                    <tfoot>
                    <tr>
                        <th>Id</th>
                        <th>Image</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Roles</th>
                        <th>Action</th>
                    </tr>
                    </tfoot>
                    <tbody>
                    {% for users in users %}
                        <tr>
                            <td>{{ users.getId() }}</td>
                            <td>
                                <div class="notice-list">
                                   <a><span class="avatar"><img src="{{ asset('uploads/images/' ~ users.image) }}" alt=""></span></a>
                                </div>
                            </td>
                            <td>{{ users.getName() }}</td>
                            <td>{{ users.getEmail() }}</td>
                            <td>
                                {% for roles in users.getRoles() %}
                                <ul>
                                    {% if roles == 'ROLE_USER' %}<li><span class="label label-success">{{ roles }}</span></li>{% endif %}
                                    {% if roles == 'ROLE_ADMIN' %}<li><span class="label label-warning">{{ roles }}</span></li>{% endif %}
                                    {% if roles == 'ROLE_SUPER_ADMIN' %}<li><span class="label label-danger">{{ roles }}</span></li>{% endif %}
                                </ul>
                                {% endfor %}
                            </td>
                            <td>
                                <a type="button" href= "{{ path("deleteUsers",{'id':users.getId()}) }}" class="btn btn-danger btn-sx"><i class="ico fa fa-trash"></i></a>
                                <a type="button" href= "{{ path('adminuserimage',{'id':users.getId()}) }}" class="btn btn-warning btn-sx"><i class="ico fa fa-picture-o"></i></a>
                                <a href= "{{ path('addUserRole',{'id':users.getId()}) }}" class="btn btn-success waves-effect waves-light" type="button"><i class="ico fa fa-plus"></i></a>
                                <a href= "{{ path('removeUserRole',{'id':users.getId()}) }}" class="btn btn-info waves-effect waves-light" type="button"><i class="ico fa fa-minus"></i></a>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
            <!-- /.box-content -->
        </div>



    </div>

{% endblock %}





{% block javascripts %}

    <script src="{{ asset('admin/scripts/jquery.min.js')}}"></script>
    <script src="{{ asset('admin/scripts/modernizr.min.js')}}"></script>
    <script src="{{ asset('admin/plugin/bootstrap/js/bootstrap.min.js')}}"></script>
    <script src="{{ asset('admin/plugin/mCustomScrollbar/jquery.mCustomScrollbar.concat.min.js')}}"></script>
    <script src="{{ asset('admin/plugin/nprogress/nprogress.js')}}"></script>
    <script src="{{ asset('admin/plugin/sweet-alert/sweetalert.min.js')}}"></script>
    <script src="{{ asset('admin/plugin/waves/waves.min.js')}}"></script>

    <!-- Data Tables -->
    <script src="{{ asset('admin/plugin/datatables/media/js/jquery.dataTables.min.js')}}"></script>
    <script src="{{ asset('admin/plugin/datatables/media/js/dataTables.bootstrap.min.js')}}"></script>
    <script src="{{ asset('admin/plugin/datatables/extensions/Responsive/js/dataTables.responsive.min.js')}}"></script>
    <script src="{{ asset('admin/plugin/datatables/extensions/Responsive/js/responsive.bootstrap.min.js')}}"></script>
    <script src="{{ asset('admin/scripts/datatables.demo.min.js')}}"></script>

    <script src="{{ asset('admin/scripts/main.min.js')}}"></script>
    <script src="{{ asset('admin/alert/sweetalert2.min.js')}}"></script>



{% endblock %}
